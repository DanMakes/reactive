{"ast":null,"code":"var _jsxFileName = \"/Users/artem/Applications/Weather_forecast/src/Days.js\";\nimport React, { Component } from 'react';\nimport { BrowserRouter as Router, Route, Link } from \"react-router-dom\";\nimport axios from 'axios';\nimport './Days.css';\nimport Day from './Day';\nimport Day_in_details from './Day_in_details';\n\nclass Days extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      data: [{\n        date: \"Day_1\",\n        symbol: \"Symbol\",\n        temperature: 'Temp'\n      }, {\n        date: \"Day_2\",\n        symbol: \"Symbol\",\n        temperature: 'Temp'\n      }, {\n        date: \"Day_3\",\n        symbol: \"Symbol\",\n        temperature: 'Temp'\n      }, {\n        date: \"Day_4\",\n        symbol: \"Symbol\",\n        temperature: 'Temp'\n      }, {\n        date: \"Day_5\",\n        symbol: \"Symbol\",\n        temperature: 'Temp'\n      }],\n      detailedData: [{\n        date: \"Day\",\n        symbol: \"Symbol\",\n        temperature: 'Temp'\n      }],\n      isDetailed: false,\n      // to show detailed information\n      fullWeather: '' // save time and all data at once\n\n    };\n  }\n\n  fetchWeather() {\n    var results = [];\n    var lat = 50.433334;\n    var lon = 30.516666;\n    var url = \"http://api.openweathermap.org/data/2.5/forecast?lat=\" + lat + \"&lon=\" + lon + \"&APPID=47246b58dee8b9eba96fa2308e7d54e2\";\n    axios(url).then(response => {\n      var result = response.data; // get 3 values from result\n\n      results = result.list.map(function (day) {\n        return {\n          date: formatDate(day.dt_txt),\n          symbol: formatIcon(day.weather[0].icon),\n          temperature: formatTemp(day.main.temp)\n        };\n      });\n      this.setState({\n        fullWeather: results\n      }); // save detailed results\n\n      function formatDate(date) {\n        // return month and day\n        return date.slice(8, 10) + '.' + date.slice(5, 7);\n      }\n\n      function formatIcon(icon) {\n        // return icon image\n        var icon_url = 'http://openweathermap.org/img/w/';\n        return icon_url + icon + '.png';\n      }\n\n      function formatTemp(temp) {\n        // return celcium results\n        return (temp - 273.15).toFixed(1) + ' C';\n      } // write received values to state\n\n\n      var five_results = [];\n\n      for (var i = 0; i < results.length; i += 8) {\n        five_results.push(results[i]);\n      }\n\n      this.setState({\n        data: five_results\n      });\n    }).catch(err => console.log(err));\n  }\n\n  componentDidMount() {\n    this.fetchWeather();\n    this.interval = setInterval(() => this.fetchWeather(), 60 * 10000);\n  }\n\n  onDayClick(date) {\n    var resultsDetailed = this.state.fullWeather.filter(function (day) {\n      return day.date == date;\n    });\n    this.setState({\n      detailedData: resultsDetailed,\n      isDetailed: true\n    });\n    console.log(this.state.detailedData);\n  }\n\n  render() {\n    var days = this.state.data.map(day => React.createElement(Day, {\n      data: day,\n      key: day.date,\n      onClick: () => this.onDayClick(day.date),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }));\n\n    if (this.state.isDetailed) {\n      var detailed_days = this.state.detailed_data.map(day_data => React.createElement(Day_in_details, {\n        data: day_data,\n        key: day_data.date,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111\n        },\n        __self: this\n      }));\n      console.log(detailed_days);\n    }\n\n    return React.createElement(\"div\", {\n      className: \"Weather-container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116\n      },\n      __self: this\n    }, React.createElement(\"ul\", {\n      className: \"Weather-days\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117\n      },\n      __self: this\n    }, days), React.createElement(\"ul\", {\n      className: \"Weather-days\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119\n      },\n      __self: this\n    }, this.state.isDetailed ? detailed_days : false));\n  }\n\n}\n\nexport default Days;","map":{"version":3,"sources":["/Users/artem/Applications/Weather_forecast/src/Days.js"],"names":["React","Component","BrowserRouter","Router","Route","Link","axios","Day","Day_in_details","Days","constructor","props","state","data","date","symbol","temperature","detailedData","isDetailed","fullWeather","fetchWeather","results","lat","lon","url","then","response","result","list","map","day","formatDate","dt_txt","formatIcon","weather","icon","formatTemp","main","temp","setState","slice","icon_url","toFixed","five_results","i","length","push","catch","err","console","log","componentDidMount","interval","setInterval","onDayClick","resultsDetailed","filter","render","days","detailed_days","detailed_data","day_data"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { BrowserRouter as Router, Route, Link } from \"react-router-dom\";\nimport axios from 'axios';\nimport './Days.css';\nimport Day from './Day';\nimport Day_in_details from './Day_in_details'\n\nclass Days extends Component {\n  constructor(props) {\n            super(props);\n            this.state = {\n                data: [{\n                        date: \"Day_1\",\n                        symbol: \"Symbol\",\n                        temperature: 'Temp',\n                },\n                  {\n                        date: \"Day_2\",\n                        symbol: \"Symbol\",\n                        temperature: 'Temp',\n                },\n                {\n                        date: \"Day_3\",\n                        symbol: \"Symbol\",\n                        temperature: 'Temp',\n                },\n                {\n                        date: \"Day_4\",\n                        symbol: \"Symbol\",\n                        temperature: 'Temp',\n                },\n                {\n                        date: \"Day_5\",\n                        symbol: \"Symbol\",\n                        temperature: 'Temp',\n                },\n                ],\n                detailedData: [{\n                    date: \"Day\",\n                    symbol: \"Symbol\",\n                    temperature: 'Temp',\n                },\n                ],\n                isDetailed: false, // to show detailed information\n                fullWeather: '',  // save time and all data at once\n            };\n        }\n\n   fetchWeather() {\n        var results = [];\n        var lat = 50.433334;\n        var lon = 30.516666;\n        var url = \"http://api.openweathermap.org/data/2.5/forecast?lat=\"+ lat + \"&lon=\" + lon + \"&APPID=47246b58dee8b9eba96fa2308e7d54e2\";\n        axios(url)\n        .then((response) => { \n                var result = response.data;\n                // get 3 values from result\n                results = result.list.map(function(day){\n                        return {date: formatDate(day.dt_txt),\n                                symbol: formatIcon(day.weather[0].icon),\n                                temperature: formatTemp(day.main.temp),\n                                }\n                    });\n                this.setState({fullWeather: results})  // save detailed results\n                function formatDate(date){\n                        // return month and day\n                        return date.slice(8, 10) + '.' + date.slice(5, 7)\n                }\n\n                function formatIcon(icon){\n                     // return icon image\n                    var icon_url = 'http://openweathermap.org/img/w/';\n                    return icon_url + icon + '.png'\n                }\n\n                function formatTemp(temp){\n                     // return celcium results\n                    return (temp - 273.15).toFixed(1) + ' C';\n                }\n\n                // write received values to state\n                var five_results = []\n                for (var i = 0; i < results.length; i += 8){\n                    five_results.push(results[i]);\n                }\n                this.setState({data: five_results})\n            })\n            .catch(err => console.log(err));\n    };\n\n    componentDidMount() {\n            \n        this.fetchWeather();\n        this.interval = setInterval(() => this.fetchWeather(), 60 * 10000);\n    };\n\n    onDayClick(date) {\n      var resultsDetailed = this.state.fullWeather.filter(function(day){\n                        return day.date == date;\n                    });\n      this.setState({detailedData: resultsDetailed, isDetailed: true});\n     console.log(this.state.detailedData);\n    };\n\n   render() {\n   var days = this.state.data.map((day) => \n        <Day data={day} key={day.date} onClick={() => this.onDayClick(day.date)}/>\n            );\n   if (this.state.isDetailed){\n   var detailed_days = this.state.detailed_data.map((day_data) => \n        <Day_in_details data={day_data} key={day_data.date} />\n            );\n   console.log(detailed_days);\n    }\n  return (\n    <div className=\"Weather-container\">\n      <ul className=\"Weather-days\">{days}\n      </ul>\n       <ul className=\"Weather-days\">{this.state.isDetailed ? detailed_days : false}\n      </ul>\n      </div>\n  );\n}\n}\n\nexport default Days;\n"]},"metadata":{},"sourceType":"module"}